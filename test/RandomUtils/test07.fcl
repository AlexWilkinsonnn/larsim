# Test the seeds service.
# 
# Policy:          preDefinedOffset
# Valid:           yes
# Will succeed:    no
# Purpose:         check that calls from beginSubRun() fail
# Limited context: this test is art-specific
# 
# This test configuration contains errors. The test module will fail (trying
# to request a new seed from a place not allowed), so its configuration informs
# it of the expected failure.
#

#include "messageService.fcl"

# Give this job a name.
process_name : SeedTest01

# Start form an empty source
source :
{
  module_type : EmptyEvent
  maxEvents : 1
}

services :
{
  message : @local::mf_interactive
  RandomNumberGenerator: {}

  LArSeedService: {
    policy            : "preDefinedOffset"
    baseSeed          :     1
    maxUniqueEngines  :     6
    checkRange        :  true
    verbosity         :     2
    endOfJobSummary   :  true

    stest01 : 0

  } # LArSeedService

}

physics :
{
  analyzers: {
    stest01 : {
      module_type : SeedTest01
      module_name : stest01
      testMode      : 3
      expectedErrors: 1
    }

  }

  e1 : [stest01 ]

  end_paths      : [e1]

}
