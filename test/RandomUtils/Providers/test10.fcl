# Test the seeds service. test of linearMapping mode
# 
# Policy:          linearMapping
# Valid:           no (too many unique seeds are requested)
# Will succeed:    yes
# Purpose:         check on seed range
# 
# This test should fail due to the range check
#

#include "messageService.fcl"

# Give this job a name.
process_name : SeedTest01

# Start form an empty source
source :
{
  module_type : EmptyEvent
  maxEvents : 1
}

services :
{
  message : @local::mf_interactive
  RandomNumberGenerator: {}

  LArSeedService: {
    policy            : "linearMapping"
    nJob              :   123
    maxUniqueEngines  :     2
    checkRange        :  true
    verbosity         :     2
    endOfJobSummary   :  false
  } # LArSeedService

}

physics :
{
  analyzers: {
    stest01 : {
      module_type : SeedTest01
      module_name : stest01
      testMode    : 0
    }

    stest02 : {
      module_type   : SeedTest01
      module_name   : stest02
      testMode      : 1
      instanceNames : [ "a", "c" ]
      expectedErrors: 2
    }
  }

  e1 : [stest01, stest02]

  end_paths      : [e1]

}
